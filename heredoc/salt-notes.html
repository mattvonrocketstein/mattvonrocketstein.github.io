<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>heredoc - Notes for SaltStack</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="https://mattvonrocketstein.github.io/heredoc/img/favicon.ico" rel="icon">

<link rel="canonical" href="https://mattvonrocketstein.github.io/heredoc/salt-notes.html">

        <meta name="author" content="mvr" />
        <meta name="keywords" content="salt,devops,python" />
        <meta name="description" content="Some notes on learnings for salt stack from the perspective of an Ansible user." />

        <meta property="og:site_name" content="heredoc" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Notes for SaltStack"/>
        <meta property="og:url" content="https://mattvonrocketstein.github.io/heredoc/salt-notes.html"/>
        <meta property="og:description" content="Some notes on learnings for salt stack from the perspective of an Ansible user."/>
        <meta property="article:published_time" content="2017-11-09" />
            <meta property="article:section" content="misc" />
            <meta property="article:tag" content="salt" />
            <meta property="article:tag" content="devops" />
            <meta property="article:tag" content="python" />
            <meta property="article:author" content="mvr" />

    <link type="text/css" rel="stylesheet" href="https://mattvonrocketstein.github.io/heredoc/theme/css/jquery.tocify.css" />
    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://mattvonrocketstein.github.io/heredoc/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="https://mattvonrocketstein.github.io/heredoc/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://mattvonrocketstein.github.io/heredoc/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="https://mattvonrocketstein.github.io/heredoc/theme/css/style.css" type="text/css"/>




    <script src="https://mattvonrocketstein.github.io/heredoc/theme/js/js.cookie.js"></script>
    <script src="https://mattvonrocketstein.github.io/heredoc/theme/js/jquery.min.js"></script>
    <script src="https://mattvonrocketstein.github.io/heredoc/theme/js/jquery-ui.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://mattvonrocketstein.github.io/heredoc/theme/js/bootstrap.min.js"></script>
    <script src="https://mattvonrocketstein.github.io/heredoc/theme/js/jquery.tocify.min.js"></script>

    <!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
    <script src="https://mattvonrocketstein.github.io/heredoc/theme/js/respond.min.js"></script>

</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icnavbaron-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://mattvonrocketstein.github.io/heredoc/" class="navbar-brand">
heredoc            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li>
                      <a href="/heredoc/tag/projects.html">Projects</a>
                    </li>
                    <li>
                      <a href="/heredoc/tag/python.html">Python</a>
                    </li>
                    <li>
                      <a href="/heredoc/tag/elixir.html">Elixir</a>
                    </li>
                    <li>
                      <a href="/heredoc/tag/devops.html">Devops</a>
                    </li>
                    <li>
                      <a href="/heredoc/tag/data-science.html">Data Science</a>
                    </li>
                    <li>
                      <a href="/heredoc/tag/essays.html">Essays</a>
                    </li>
                    <li>
                      <a href="/heredoc/tag/links.html">Links</a>
                    </li>

            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-2" id="sidebar">
            <div style="">
              <aside>
<div id="aboutme">

    
        <p>
            <center>
              <a id=walkingman_toggle>
                <span id=walkingman_toggle_label style="font-size:7px;position:relative;bottom:15px;">
                      stop animation
                </span><br/>
              <img id=walking_man>
              </a>
            </center>
        </p>
        <script>
          var still = 'https://mattvonrocketstein.github.io/heredoc/img/walking_man_still.png';
          var walking = 'https://mattvonrocketstein.github.io/heredoc/img/walking_man.gif';
          function walkingman_on(){
            $('#walking_man').attr('src', walking);
            $('#walkingman_toggle_label').html('stop animation');
            $("#walkingman_toggle").attr(
                'href', 'javascript:walkingman_off()');
            Cookies.set('walkingman_animate', 1)
          }
          function walkingman_load(){
            var animate = Cookies.get("walkingman_animate")
            if(!animate||animate=="1"){
                walkingman_on()
            }
            else { walkingman_off();}
          }
          function walkingman_off(){
            $('#walking_man').attr('src', still);
            $('#walkingman_toggle_label').html('start animation');
            $("#walkingman_toggle").attr(
                'href', 'javascript:walkingman_on()');
            Cookies.set('walkingman_animate', 0)
          }
          $(document).ready(function(){
            walkingman_load();
            });
        </script>

    <p>
        <strong>Heredoc</strong><br/>
        is a file literal or input stream literal: it is a section of a source code file that is treated as if it were a separate file.  It also happens to be the name of this technical blog..
    </p>
</div><h4>
  <i class="fa fa-home fa-lg"></i>
  <span class="icon-label">Recent</span></h4>
            <ul style="margin-left: 5px;padding:0px; list-style: none;">
                        <li class=li-choice><a href="https://mattvonrocketstein.github.io/heredoc/math-cs-ds-links.html">
                            Links for Topics in Math and CS</li>
                        </a>
                        <li class=li-choice><a href="https://mattvonrocketstein.github.io/heredoc/devops-links.html">
                            Links for Topics in Devops</li>
                        </a>
                        <li class=li-choice><a href="https://mattvonrocketstein.github.io/heredoc/elixir-links.html">
                            Links for Elixir</li>
                        </a>
                        <li class=li-choice><a href="https://mattvonrocketstein.github.io/heredoc/salt-notes.html">
                            Notes for SaltStack</li>
                        </a>
                        <li class=li-choice><a href="https://mattvonrocketstein.github.io/heredoc/openvpn-ubuntu-ansible-terraform.html">
                            OpenVPN Setup with ansible and terraform on EC2</li>
                        </a>
              </ul>


              <a href="https://mattvonrocketstein.github.io/heredoc/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group list-inline tagcloud" id="tags">
                    <li class="list-group-item tag-1">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/ansible.html">
                            ansible
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/architecture.html">
                            architecture
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/boilerplate.html">
                            boilerplate
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/code.html">
                            code
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/cs.html">
                            cs
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/data-science.html">
                            data-science
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/devops.html">
                            devops
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/docker.html">
                            docker
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/elixir.html">
                            elixir
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/essays.html">
                            essays
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/fabric.html">
                            fabric
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/graphdb.html">
                            graphdb
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/groovy.html">
                            groovy
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/infrastructure.html">
                            infrastructure
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/jenkins.html">
                            jenkins
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/links.html">
                            links
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/math.html">
                            math
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/misc.html">
                            misc
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/proglangs.html">
                            proglangs
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/projects.html">
                            projects
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/python.html">
                            python
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/raspberry-pi.html">
                            raspberry-pi
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/salt.html">
                            salt
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/terraform.html">
                            terraform
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/unfinished.html">
                            unfinished
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/vagrant.html">
                            vagrant
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="https://mattvonrocketstein.github.io/heredoc/tag/vpn.html">
                            vpn
                        </a>
                    </li>
                </ul>

      <h4><i class="fa fa-github fa-lg"></i>
        <span class="icon-label"><a href="https://github.com/mattvonrocketstein">
          GitHub Repos
        </a></span>
      </h4>
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
      <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="li-choice">
            <a href="http://data.holdings" target="_blank">
                data.holdings
            </a>
        </li>
        <li class="li-choice">
            <a href="http://mattvonrocketstein.github.io/travel" target="_blank">
                travel blog
            </a>
        </li>
        <li class="li-choice">
            <a href="http://localhost:5000/heredoc/random.html" target="_blank">
                random article (this blog)
            </a>
        </li>
      </ul>
            </aside>
            </div>
        </div>
        <div class="col-sm-8">
            <ol class="breadcrumb">
                <li><a href="https://mattvonrocketstein.github.io/heredoc" title="heredoc"><i class="fa fa-home fa-lg"></i></a></li>
                <li><a href="https://mattvonrocketstein.github.io/heredoc/category/misc.html" title="misc">
                  misc
                </a></li>
                <li class="active">Notes for SaltStack</li>
            </ol>
    <section id="content">
        <article>
            <header class="page-header">
                <span class=long-h1>
                    <a href="https://mattvonrocketstein.github.io/heredoc/salt-notes.html"
                       rel="bookmark"
                       title="Permalink to Notes for SaltStack">
                        Notes for SaltStack
                    </a>
                </span>
            </header>
            <div class="entry-content">
<footer class="post-info">
    <table style="border-collapse: separate;border-spacing:5px 1px;">
<tr>
  <td class=center>
      <span class="label label-default">Date</span>
  </td>
  <td>
    <span class="published">
      <i class="fa fa-calendar"></i>
      <time datetime="2017-11-09T00:00:00-05:00">
        Thu 09 November 2017
      </time>
    </span>
  </td>
</tr><tr>
	<td class=center>
		<span class="label label-default">
			Tags
		</span>
	</td>
	<td>
			<a href="https://mattvonrocketstein.github.io/heredoc/tag/salt.html">salt</a>
,			<a href="https://mattvonrocketstein.github.io/heredoc/tag/devops.html">devops</a>
,			<a href="https://mattvonrocketstein.github.io/heredoc/tag/python.html">python</a>
	</td>
</tr>
  </table>
</footer>
<!-- /.post-info -->                <br/>
                <p></p>
<h2>Primitives</h2>
<h3>Minions</h3>
<p><a href="https://docs.saltstack.com/en/latest/topics/development/architecture.html#salt-minion">Minions</a>: salt "clients", aka hosts / provision targets.  (not to be confused with the salt command-line client <code>salt</code>)</p>
<h3>Master</h3>
<p><a href="https://docs.saltstack.com/en/latest/topics/development/architecture.html#salt-master">master</a>: the salt server, drives the provisioning of minions.  the <code>salt</code> cli client runs on the master.  The master is an ensemble of several services and worker processes.</p>
<ul>
<li>Publisher (port 4505): which minions must be able to access for pull-mode</li>
<li>EventPublisher (IPC only):</li>
<li>MWorker: one or more "master workers", which handle salt operations concurrently  </li>
<li>ReqServer (port 4506): pop work and push to MWorker, plus receiving replies so MWorker doesn't have to block</li>
<li>File Server (?): transfers files to minions on demand from the state tree</li>
</ul>
<h3>Grains</h3>
<p><a href="https://docs.saltstack.com/en/latest/topics/grains/">Grains</a> are basically facts in the ansible/puppet world.</p>
<h3>Pillar</h3>
<p><a href="https://docs.saltstack.com/en/latest/topics/pillar/">Pillar</a> is a global value/config storage, spelled out on the master. This is basically YAML which is layed out in folder hierarchies, which maps to environment config. It's minion-specific and invisible to others, so useful for secrets.</p>
<h3>State</h3>
<p>References to <a href="https://docs.saltstack.com/en/latest/topics/tutorials/starting_states.html">state, state trees, and .sls</a> refer to YAML arranged in a folder hierarchy, similar to the Pillar layout.  These files are stored on the Salt master.  Basically <code>.sls</code> files are the core of actual configuration management, similar to ansible playbooks.  The state tree may also contain raw files to be provisioned to hosts, etc.  As in Ansible, raw YAML (a data structure) becomes program-like using inclusion/extension, and as in Ansible, Jinja is used under the hood to render templated data.</p>
<h2>Advanced</h2>
<h3>Eventing</h3>
<p>.. placeholder re: the <a href="https://docs.saltstack.com/en/2015.8/topics/event/index.html">event system</a> ..</p>
<h2>Site Questions</h2>
<p>Short list of intro questions that ought to be relevant for most site-specific installations/use-cases.</p>
<ul>
<li>Using master or masterless?<ul>
<li>If master, where is the master, how does it deal with inside/outside the VPN or VPC?</li>
</ul>
</li>
<li>Default transport (zeromq)?</li>
</ul>
<h2>General Questions</h2>
<p>Unanswered Salt-specific questions on design, architecture, and implementation.</p>
<ul>
<li>
<p>The difference between Pillar and the state tree seems to simply be just that Pillar is for config storage, and state tree refers to file storage.  Is there anything more subtle about this situation?</p>
</li>
<li>
<p>Masters and minions require bootstrapping with <a href="https://docs.saltstack.com/en/latest/topics/tutorials/salt_bootstrap.html">the standard shell script</a>.  I very quickly hit a <code>ERROR: End of life distributions are not supported</code> message using an older version of Ubuntu that was used by a stale github project.  <a href="https://github.com/saltstack/salt-bootstrap/issues/1162">Here</a> is a similar issue against the project.  Since I'd want to use configuration management to fix this kind of situation, this seems like a deal breaker.. what's the protocol here?</p>
</li>
<li>
<p>What is the situation in the trenches for boots-on-the-ground ops who will expect reusable patterns for common infrastructure components?  This needs a case study. Are there patterns for things like Zookeeper, Hashicorp vault, LAMP stack, Cassandra?  Are the patterns solid, are they fairly OS-agnostic?</p>
</li>
<li>
<p>What are the possibilities for push mode?  Pull mode means minions must be able to access ports on the master, etc, which is potentially painful given the endless variations of firewalls, VPNs, VPCs, and bastion setups out there in the wild.</p>
</li>
<li>
<p>Are there possibilities for agent-free usage?  Compared with agent-free interaction, agent-based could be painful in some circumstances, for instance with multimachine setups on non-customized AMIs.  </p>
</li>
<li>
<p>No option for intelligent routing?  <a href="https://docs.saltstack.com/en/latest/topics/development/architecture.html#job-flow">The job flow docs</a> state that all minions receive all commands from master, then check whether the command is intended for them.  (Questions of routing aside, encryption here does ensure we don't leak secrets to evil minions)</p>
</li>
</ul>
<h2>Compare and Contrast</h2>
<h3>Architecture</h3>
<p>SaltStack architecture is well-thought out, and really very beautiful.  But "using a distributed system to solve a problem means you now have 2 problems".  This additional complexity may really only be justified for "enterprise" bigness, and do we think that starts at a dozen servers, 100 servers, or 1000?  Without lots of servers, an Ansible user accustomed to agent-free, server-free decentralized-by-default interaction with CM will probably be left wondering.. what is all this SaltStack architecture actually <em>for</em>?</p>
<p>Ansible is mostly a CM language, and only very slightly a CM driver, a value store, or a server.  For most use-cases there is zero architecture to learn, but then again there is zero to leverage.  (<a href="https://www.ansible.com/tower">Ansible Tower</a> is probably beginning to change some of this).  Turning Ansible into something more scalable/distributed is mostly a matter of having many workers, and that can be done by leveraging an existing system for work distribution (like Jenkins slaves).</p>
<h3>Speed, Eventing &amp; Pull-mode</h3>
<p>This section is partially answering "what is the SaltStack architecture <em>for</em>?", a question that was posed in the last section.  </p>
<p>A primary aspect of SaltStack architecture is the queue, and the simplest consequence is having workers out-of-the-box, which also immediately implies speed.  Presumably server/agent interaction also offers huge speed increases over ansible's use of ssh as a ubiquitous transport mechanism.</p>
<p>The eventing mechanism</p>
<p>..placeholder..</p>
<h3>CM as process of templating, inclusion, extension</h3>
<p>Jinja as a templating engine is all that ansible supports, whereas in salt this aspect is pluggable, for better or worse.  As a result of supporting <a href="https://docs.saltstack.com/en/latest/topics/tutorials/starting_states.html#introducing-the-python-pydsl-and-the-pyobjects-renderers">pydsl etc</a> there's no upper limit on how gnarly <code>.sls</code> files can get, and no guarantee about their portability between separate Salt installations.</p>
<h2>Conclusion</h2>
<p>..placeholder..</p>
<h2>References</h2>
<p>Quick links and further reading:</p>
<ul>
<li><a href="https://github.com/JustinCarmony/vagrant-salt-example">minimal (masterless) demo with vagrant</a></li>
<li><a href="https://www.tutorialspoint.com/saltstack/images/salt_diskusage.jpg">architectural overview</a></li>
</ul>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts-well">
    <ul>
        <li><a href="https://mattvonrocketstein.github.io/heredoc/python-release-automation.html">Python release automation</a></li>
        <li><a href="https://mattvonrocketstein.github.io/heredoc/datadog-event-publishing.html">Datadog event publishing</a></li>
        <li><a href="https://mattvonrocketstein.github.io/heredoc/ansible-role.html">The missing "ansible-role" command</a></li>
        <li><a href="https://mattvonrocketstein.github.io/heredoc/zoo-cm.html">Zoo: configuration management for the random hardware I own and experiment with</a></li>
        <li><a href="https://mattvonrocketstein.github.io/heredoc/ielixir-notebook-in-docker.html">IElixir Notebook in Docker</a></li>
        <li><a href="https://mattvonrocketstein.github.io/heredoc/python-class-as-module.html">Python Class as Module</a></li>
        <li><a href="https://mattvonrocketstein.github.io/heredoc/python-dry-versioning.html">DRY versioning for Python packages</a></li>
        <li><a href="https://mattvonrocketstein.github.io/heredoc/penrose-python-openscad.html">Penrose Tilings & Solid Geometry</a></li>
        <li><a href="https://mattvonrocketstein.github.io/heredoc/elixir-architecture.html">An Elixir Microservice Architecture</a></li>
        <li><a href="https://mattvonrocketstein.github.io/heredoc/neo4j-vagrant-ansible.html">Setting up Neo4j with Vagrant and Ansible</a></li>
    </ul>
</section>
        </article>
    </section>

        </div>
        <div class="col-sm-2" >
          <section id=toc class="well well-sm">
          </section>
        </div>
      </div>

    </div>
</div>
<footer>
   <div class="container-fluid">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2020 mvr
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = 'https://mattvonrocketstein.github.io/heredoc/theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'mattvonrocketstein',
                count: 5,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="https://mattvonrocketstein.github.io/heredoc/theme/js/github.js" type="text/javascript"></script>
    <!-- End GitHub JS Code -->

<script>
$(document).ready(
  function(){
    $('.simple-footnotes').wrap("<section class=well id=footnotes-well></section>");
    $('#footnotes-well').before("<h2>Footnotes</h2>");
    $('#series-well').before("<h2>Articles in Series</h2>");
    $('#related-posts-well').before("<h2>Related Posts</h2>");
    $("#toc").delay(1000).tocify(
      {
        context: '.entry-content',
        selectors: "h2,h3,h4",
        showAndHide: true,
        showAndHideOnScroll: true,
        extendPage: false,
      }
    );
  }
);
function series_button(url,txt){
  return '<a style="background:#efefef;" class="btn btn-default btn-xs" href="'+url+'">'+txt+'</a>'

}
function get_series_nav(x){}</script>
<script>
setTimeout(function(){
  if (""==$('#toc').html().trim()){
    $("#toc").hide()
  }}, 1500)
  </script>
</body>
</html>