<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ymir</title>
    <meta name="description" content="">
    <meta name="author" content="mvr">

    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
        <script src="../theme/html5.js"></script>
        <![endif]-->

    <script src="../theme/js/jquery.min.js"></script>

    <!-- Styles -->
    <link href="../theme/bootstrap.min.css" rel="stylesheet">
    <link href="../theme/local.css" rel="stylesheet">
    <link href="../theme/pygments.css" rel="stylesheet">

    <!-- Feeds -->




  </head>
  <body>
    <div class="topbar">
      <div class="topbar-inner">
        <div class="container-fluid">
          <a class="brand" href="../">ymir</a>
          <ul class="nav">
            <li><a href="../">About</a></li>
            <li><a href="../pages/installation.html">Installation</a></li>
            <li><a href="../pages/ec2.html">Quickstart: EC2</a></li>
            <li><a href="../pages/vagrant.html">Quick Start: Vagrant</a></li>
            <li><a href="../pages/service-description.html">Service Descriptions</a></li>
            <li><a href="../pages/service-operations.html">Service Operations</a></li>
            <li><a href="../pages/service-implementations.html">Service Implementations</a></li>
            <li><a href="../pages/examples.html">Examples</a></li>
            <li><a href="../pages/misc.html">Misc.</a></li>
          </ul>
          <p class="pull-right">
            <a href="https://github.com/mattvonrocketstein/ymir/">[github]</a>
            <!--a href="https://github.com/mattvonrocketstein/ymir/issues">[issues]</a>
          </p-->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="sidebar">
        <div class="well">
          <h3>TOC</h3>
          <ul class=main_toc>
            <li class=page_toc>
              <a href="../">About</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#what-is-it">What is it?</a></li>
<li><a href="#who-is-it-for">Who is it for?</a></li>
<li><a href="#under-the-hood">Under the hood</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#footnotes">Footnotes</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/installation.html">Installation</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#suggested-software">Suggested software</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/ec2.html">Quickstart: EC2</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#create-boilerplate">Create Boilerplate</a></li>
<li><a href="#customize-things">Customize things</a></li>
<li><a href="#validate-and-create">Validate and create</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/vagrant.html">Quick Start: Vagrant</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#create-boilerplate">Create boilerplate</a></li>
<li><a href="#customize-things">Customize things</a><ul>
<li><a href="#5-customize-your-service-implementation">5 Customize your service implementation</a></li>
</ul>
</li>
<li><a href="#validate-and-create">Validate and create</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/service-description.html">Service Descriptions</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#choosing-a-file">Choosing a file</a></li>
<li><a href="#templating"><a href="#templating" name="templating">Templating</a></a></li>
<li><a href="#ec2-json">EC2 JSON</a></li>
<li><a href="#vagrant-json">Vagrant JSON</a></li>
<li><a href="#health-checks">Health Checks</a></li>
<li><a href="#setup-provision">Setup &amp; provision</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/service-operations.html">Service Operations</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#built-in-operations">Built-in Operations</a></li>
<li><a href="#setup-operation">Setup Operation</a></li>
<li><a href="#provision-operation">Provision Operation</a></li>
<li><a href="#check-operation">Check Operation</a></li>
<li><a href="#custom-operations">Custom Operations</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/service-implementations.html">Service Implementations</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#prerequisite-reading">Prerequisite reading</a></li>
<li><a href="#puppet-provisioning">Puppet Provisioning</a><ul>
<li><a href="#puppet-deps">Puppet Deps</a></li>
<li><a href="#puppet-facts">Puppet Facts</a></li>
</ul>
</li>
<li><a href="#ansible-provisioning">Ansible Provisioning</a><ul>
<li><a href="#ansible-deps">Ansible Deps</a></li>
<li><a href="#ansible-facts">Ansible Facts</a></li>
</ul>
</li>
<li><a href="#other-provisioning">Other Provisioning</a><ul>
<li><a href="#local-commands">Local commands</a></li>
<li><a href="#remote-commands">Remote commands</a></li>
</ul>
</li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/examples.html">Examples</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#polyglot-demo">Polyglot demo</a></li>
<li><a href="#custom-service-operations-with-fabric">Custom service operations with fabric</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/misc.html">Misc.</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#automation-helpers">Automation Helpers</a></li>
<li><a href="#validating-boilerplate">Validating boilerplate</a></li>
<li><a href="#creating-keypairs">Creating Keypairs</a></li>
<li><a href="#synchronizing-security-groups">Synchronizing security groups</a></li>
</ul>
</div>
              </nav>
            </li>
          </ul>
        </div>
        <script>
          $('ul.main_toc nav.sub_toc li > a').each(function(){
            $(this).attr(
               'href',
               $(this).closest('.page_toc').children()[0].href+$(this).attr('href'));
          });
        </script>
        <div class="well">
          <h3>Other Links</h3>
          <ul>
            <li><a href="https://github.com/mattvonrocketstein/ymir/">Source code</a></li>
            <li><a href="https://github.com/mattvonrocketstein/ymir/issues">Issues</a></li>
          </ul>
        </div>
      </div>
      <div class="content">
        <div class='page'>
                <div class="page-header"><h1>Quick Start: Vagrant</h1></div>
                <div>
<h2 id="prerequisites">Prerequisites</h2>
<p><strong>1. Install vagrant and virtualbox</strong></p>
<p>Ymir is known to work well with at least <a href="https://releases.hashicorp.com/vagrant/1.8.1/">vagrant 1.8.1</a> and virtualbox <a href="http://download.virtualbox.org/virtualbox/4.3.38/">4.3.38</a>.  You will probably need a 64 bit host.  Installing these may or may not be complicated depending on your platform but this is outside of the scope of this documentation.</p>
<hr/>
<h2 id="create-boilerplate">Create boilerplate</h2>
<p><strong>3. Create a service template</strong></p>
<p>Initializing a new service template with ymir copies boilerplate that you'll find useful.  The following command will create a new folder <code>demo_service</code> with your project skeleton:</p>
<div class="highlight"><pre><span></span>$ ymir init demo_service
</pre></div>
<hr/>
<h2 id="customize-things">Customize things</h2>
<p><strong>4. Customize your service description</strong></p>
<p>Most of the instance specifics (RAM, base-box) are configured inside of <code>Vagrantfile</code> (this file was created for you in step 3).  Inside <code>vagrant.json</code>, make sure the <strong>instance_type</strong> field is always set to "vagrant", and that the <strong>name</strong> field matches the <strong>vm.hostname</strong> value inside <code>Vagrantfile</code>.  For more detailed information about the fields and what they do, see the <a href="pages/service-description.html#vagrant-summary">service description</a> section of this documentation.</p>
<h3 id="5-customize-your-service-implementation"><strong>5</strong> Customize your service implementation</h3>
<p>Customize your service implementation.  You can do this with shell, ansible, or puppet or fabric tasks depending on your preference.  Consult the <a href="pages/service-implementation.html">service implementation</a> section of this documentation.</p>
<hr/>
<h2 id="validate-and-create">Validate and create</h2>
<p><strong>6.  Validate your service description so far</strong></p>
<p>To make sure your setup is sane so far, run</p>
<div class="highlight"><pre><span></span>$ ymir validate
</pre></div>
<p>See the <a href="pages/other-automation.html#validation">validation docs</a> for more information.</p>
<p><strong>7. Add customized service operations</strong></p>
<p>If you're willing to write code you can define new operations of any kind, but you get lots of basic operations out of the box.  To show a list of default operations, make sure you are in the service directory and run this command: <code>fab -l</code>.  For instance, to build out your service based on the <code>service.json</code> file, run</p>
<div class="highlight"><pre><span></span>$ fab create
</pre></div>
<p><strong>8. Instantiate your service, setup &amp; provision it</strong></p>
<p>Run the create/setup/provision operations one by one, proceeding at each stage if all is well.  Initially it's better to run these separately, because despite retry-behaviours, if you have a bad internet connection then something is liable to timeout and it might be useful to inspect the output more carefully.</p>
<div class="highlight"><pre><span></span>$ fab create
$ fab setup
$ fab provision
</pre></div>
<p>If you have a great internet connection, try running everything at once:</p>
<div class="highlight"><pre><span></span>fab create wait:30 setup provision
</pre></div></div>
        </div>
        <footer>
          <p>&copy; mvr</p>
        </footer>
      </div>

    </div>
  </body>
</html>