<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ymir</title>
    <meta name="description" content="">
    <meta name="author" content="mvr">

    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
        <script src="../theme/html5.js"></script>
        <![endif]-->

    <script src="../theme/js/jquery.min.js"></script>

    <!-- Styles -->
    <link href="../theme/bootstrap.min.css" rel="stylesheet">
    <link href="../theme/local.css" rel="stylesheet">
    <link href="../theme/pygments.css" rel="stylesheet">

    <!-- Feeds -->




  </head>
  <body>
    <div class="topbar">
      <div class="topbar-inner">
        <div class="container-fluid">
          <a class="brand" href="../">ymir</a>
          <ul class="nav">
            <li><a href="../">About</a></li>
            <li><a href="../pages/installation.html">Installation</a></li>
            <li><a href="../pages/ec2.html">Quickstart: EC2</a></li>
            <li><a href="../pages/vagrant.html">Quick Start: Vagrant</a></li>
            <li><a href="../pages/service-description.html">Service Descriptions</a></li>
            <li><a href="../pages/service-operations.html">Service Operations</a></li>
            <li><a href="../pages/service-implementations.html">Service Implementations</a></li>
            <li><a href="../pages/examples.html">Examples</a></li>
            <li><a href="../pages/misc.html">Misc.</a></li>
          </ul>
          <p class="pull-right">
            <a href="https://github.com/mattvonrocketstein/ymir/">[github]</a>
            <!--a href="https://github.com/mattvonrocketstein/ymir/issues">[issues]</a>
          </p-->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="sidebar">
        <div class="well">
          <h3>TOC</h3>
          <ul class=main_toc>
            <li class=page_toc>
              <a href="../">About</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#what-is-it">What is it?</a></li>
<li><a href="#who-is-it-for">Who is it for?</a></li>
<li><a href="#under-the-hood">Under the hood</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#footnotes">Footnotes</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/installation.html">Installation</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#suggested-software">Suggested software</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/ec2.html">Quickstart: EC2</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#create-boilerplate">Create Boilerplate</a></li>
<li><a href="#customize-things">Customize things</a></li>
<li><a href="#validate-and-create">Validate and create</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/vagrant.html">Quick Start: Vagrant</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#create-boilerplate">Create boilerplate</a></li>
<li><a href="#customize-things">Customize things</a><ul>
<li><a href="#5-customize-your-service-implementation">5 Customize your service implementation</a></li>
</ul>
</li>
<li><a href="#validate-and-create">Validate and create</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/service-description.html">Service Descriptions</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#choosing-a-file">Choosing a file</a></li>
<li><a href="#templating"><a href="#templating" name="templating">Templating</a></a></li>
<li><a href="#ec2-json">EC2 JSON</a></li>
<li><a href="#vagrant-json">Vagrant JSON</a></li>
<li><a href="#health-checks">Health Checks</a></li>
<li><a href="#setup-provision">Setup &amp; provision</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/service-operations.html">Service Operations</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#built-in-operations">Built-in Operations</a></li>
<li><a href="#setup-operation">Setup Operation</a></li>
<li><a href="#provision-operation">Provision Operation</a></li>
<li><a href="#check-operation">Check Operation</a></li>
<li><a href="#custom-operations">Custom Operations</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/service-implementations.html">Service Implementations</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#prerequisite-reading">Prerequisite reading</a></li>
<li><a href="#puppet-provisioning">Puppet Provisioning</a><ul>
<li><a href="#puppet-deps">Puppet Deps</a></li>
<li><a href="#puppet-facts">Puppet Facts</a></li>
</ul>
</li>
<li><a href="#ansible-provisioning">Ansible Provisioning</a><ul>
<li><a href="#ansible-deps">Ansible Deps</a></li>
<li><a href="#ansible-facts">Ansible Facts</a></li>
</ul>
</li>
<li><a href="#other-provisioning">Other Provisioning</a><ul>
<li><a href="#local-commands">Local commands</a></li>
<li><a href="#remote-commands">Remote commands</a></li>
</ul>
</li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/examples.html">Examples</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#polyglot-demo">Polyglot demo</a></li>
<li><a href="#custom-service-operations-with-fabric">Custom service operations with fabric</a></li>
</ul>
</div>
              </nav>
            </li>
            <li class=page_toc>
              <a href="../pages/misc.html">Misc.</a>
              <nav class="sub_toc">
                <div class="toc">
<ul>
<li><a href="#automation-helpers">Automation Helpers</a></li>
<li><a href="#validating-boilerplate">Validating boilerplate</a></li>
<li><a href="#creating-keypairs">Creating Keypairs</a></li>
<li><a href="#synchronizing-security-groups">Synchronizing security groups</a></li>
</ul>
</div>
              </nav>
            </li>
          </ul>
        </div>
        <script>
          $('ul.main_toc nav.sub_toc li > a').each(function(){
            $(this).attr(
               'href',
               $(this).closest('.page_toc').children()[0].href+$(this).attr('href'));
          });
        </script>
        <div class="well">
          <h3>Other Links</h3>
          <ul>
            <li><a href="https://github.com/mattvonrocketstein/ymir/">Source code</a></li>
            <li><a href="https://github.com/mattvonrocketstein/ymir/issues">Issues</a></li>
          </ul>
        </div>
      </div>
      <div class="content">
        <div class='page'>
                <div class="page-header"><h1>Misc.</h1></div>
                <div>
<h2 id="automation-helpers">Automation Helpers</h2>
<p>Primarily you will interact with your services using <a href="pages/service-operations.html">service operations</a> which are generated for you based on your <a href="pages/service-description.html">service description</a>.  This section describes other, generic automation helpers  which are provided by the ymir command line utility and which do <em>not</em> interact with a specific concrete service.</p>
<h2 id="validating-boilerplate">Validating boilerplate</h2>
<p>To validate ymir service boilerplate simply use <code>ymir validate</code> in the working directory for your service.</p>
<p><strong> Validation that runs only for the EC2-schema JSON includes:</strong></p>
<ul>
<li>Confirmation for the "pem" service description field, i.e. confirmation that your local key file actually exists.</li>
<li>Confirmation for the "keypair"service description field, i.e. confirmation that the AWS keypair mentioned exists according to the AWS API.</li>
</ul>
<p><strong>Generic validation includes:</strong></p>
<ul>
<li>If "service.json" exists, confirmation that it conforms to the appropriate JSON schema</li>
<li>If "vagrant.json" exists, confirmation that it conforms to the appropriate JSON schema</li>
<li>Confirmation for "security_groups" service description entries, i.e. confirmation that the security groups mentioned exist according to the AWS API.</li>
<li>Confirmation that puppet metadata.json is well-formed (uses the <a href="https://github.com/voxpupuli/metadata-json-lint">metadata-json-lint gem</a>)</li>
<li>Confirmation that puppet provisioning code is lint-free (uses <a href="http://puppet-lint.com">puppet-lint</a>)</li>
<li><em>Heuristic confirmation</em> that puppet templates only use facts which are defined somewhere in "service.json"</li>
</ul>
<h2 id="creating-keypairs">Creating Keypairs</h2>
<p>To create a new AWS keypair, use <code>ymir keypair &lt;keypair_name&gt;</code>.  The pem file will be saved in the current working directory.  Use <code>ymir keypair -f &lt;keypair_name&gt;</code> to force creation (and possibly overwrite a local file) without asking for confirmation.</p>
<h2 id="synchronizing-security-groups">Synchronizing security groups</h2>
<p>By using either <code>ymir sg security_groups.json</code> or <code>ymir security_groups security_groups.json</code> you can synchronize AWS security groups with provided JSON file.  Note that this is true synchronization in the sense that it doesn't just add rules.. rules discovered for this security group via the AWS API that are not mentioned in <code>security_groups.json</code> will be removed.  To learn about <code>security_group.json</code> schema, see the example json below or view it on github <a href="https://github.com/mattvonrocketstein/ymir/blob/master/ymir/skeleton/security_groups.json">here</a>.  This file is exactly what's included in the boilerplate generated by the <code>ymir init</code> command.</p>
<script src="https://gist-it.appspot.com/github/mattvonrocketstein/ymir/blob/master/ymir/skeleton/security_groups.json"></script>
<hr/></div>
        </div>
        <footer>
          <p>&copy; mvr</p>
        </footer>
      </div>

    </div>
  </body>
</html>